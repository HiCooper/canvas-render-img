(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b2b023c"],{"057f":function(t,e,r){var i=r("fc6a"),n=r("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return n(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):n(i(t))}},"07ac":function(t,e,r){var i=r("23e7"),n=r("6f53").values;i({target:"Object",stat:!0},{values:function(t){return n(t)}})},"1dde":function(t,e,r){var i=r("d039"),n=r("b622"),o=r("2d00"),a=n("species");t.exports=function(t){return o>=51||!i((function(){var e=[],r=e.constructor={};return r[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"25f0":function(t,e,r){"use strict";var i=r("6eeb"),n=r("825a"),o=r("d039"),a=r("ad6d"),s="toString",c=RegExp.prototype,u=c[s],f=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=u.name!=s;(f||h)&&i(RegExp.prototype,s,(function(){var t=n(this),e=String(t.source),r=t.flags,i=String(void 0===r&&t instanceof RegExp&&!("flags"in c)?a.call(t):r);return"/"+e+"/"+i}),{unsafe:!0})},"2ca0":function(t,e,r){"use strict";var i=r("23e7"),n=r("06cf").f,o=r("50c4"),a=r("5a34"),s=r("1d80"),c=r("ab13"),u=r("c430"),f="".startsWith,h=Math.min,l=c("startsWith"),d=!u&&!l&&!!function(){var t=n(String.prototype,"startsWith");return t&&!t.writable}();i({target:"String",proto:!0,forced:!d&&!l},{startsWith:function(t){var e=String(s(this));a(t);var r=o(h(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return f?f.call(e,i,r):e.slice(r,r+i.length)===i}})},"2d96":function(t,e,r){},3061:function(t,e,r){"use strict";r("2d96")},"44e7":function(t,e,r){var i=r("861d"),n=r("c6b6"),o=r("b622"),a=o("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==n(t))}},"4de4":function(t,e,r){"use strict";var i=r("23e7"),n=r("b727").filter,o=r("1dde"),a=r("ae40"),s=o("filter"),c=a("filter");i({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,r){"use strict";var i=r("0366"),n=r("7b0b"),o=r("9bdd"),a=r("e95a"),s=r("50c4"),c=r("8418"),u=r("35a1");t.exports=function(t){var e,r,f,h,l,d,g=n(t),v="function"==typeof this?this:Array,m=arguments.length,p=m>1?arguments[1]:void 0,y=void 0!==p,b=u(g),w=0;if(y&&(p=i(p,m>2?arguments[2]:void 0,2)),void 0==b||v==Array&&a(b))for(e=s(g.length),r=new v(e);e>w;w++)d=y?p(g[w],w):g[w],c(r,w,d);else for(h=b.call(g),l=h.next,r=new v;!(f=l.call(h)).done;w++)d=y?o(h,p,[f.value,w],!0):f.value,c(r,w,d);return r.length=w,r}},"4fad":function(t,e,r){var i=r("23e7"),n=r("6f53").entries;i({target:"Object",stat:!0},{entries:function(t){return n(t)}})},"51ac":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});for(var i="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),n={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:i?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},a={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)a["f"+s]=111+s;function c(t,e,r){e&&!("byKey"in e)&&(r=e,e=null),Array.isArray(t)||(t=[t]);var i=t.map((function(t){return h(t,e)})),n=function(t){return i.some((function(e){return l(e,t)}))},o=null==r?n:n(r);return o}function u(t,e){return c(t,e)}function f(t,e){return c(t,{byKey:!0},e)}function h(t,e){var r=e&&e.byKey,i={};t=t.replace("++","+add");var s=t.split("+"),c=s.length;for(var u in n)i[n[u]]=!1;var f=!0,h=!1,l=void 0;try{for(var v,m=s[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var p=v.value,y=p.endsWith("?")&&p.length>1;y&&(p=p.slice(0,-1));var b=g(p),w=n[b];if(p.length>1&&!w&&!o[p]&&!a[b])throw new TypeError('Unknown modifier: "'+p+'"');1!==c&&w||(r?i.key=b:i.which=d(p)),w&&(i[w]=!y||null)}}catch(x){h=!0,l=x}finally{try{!f&&m.return&&m.return()}finally{if(h)throw l}}return i}function l(t,e){for(var r in t){var i=t[r],n=void 0;if(null!=i&&(n="key"===r&&null!=e.key?e.key.toLowerCase():"which"===r?91===i&&93===e.which?91:e.which:e[r],(null!=n||!1!==i)&&n!==i))return!1}return!0}function d(t){t=g(t);var e=a[t]||t.toUpperCase().charCodeAt(0);return e}function g(t){return t=t.toLowerCase(),t=o[t]||t,t}e.default=c,e.isHotkey=c,e.isCodeHotkey=u,e.isKeyHotkey=f,e.parseHotkey=h,e.compareHotkey=l,e.toKeyCode=d,e.toKeyName=g},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var i=r("1d80"),n=r("5899"),o="["+n+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),c=function(t){return function(e){var r=String(i(e));return 1&t&&(r=r.replace(a,"")),2&t&&(r=r.replace(s,"")),r}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5a34":function(t,e,r){var i=r("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"6f53":function(t,e,r){var i=r("83ab"),n=r("df75"),o=r("fc6a"),a=r("d1e7").f,s=function(t){return function(e){var r,s=o(e),c=n(s),u=c.length,f=0,h=[];while(u>f)r=c[f++],i&&!a.call(s,r)||h.push(t?[r,s[r]]:s[r]);return h}};t.exports={entries:s(!0),values:s(!1)}},7156:function(t,e,r){var i=r("861d"),n=r("d2bb");t.exports=function(t,e,r){var o,a;return n&&"function"==typeof(o=e.constructor)&&o!==r&&i(a=o.prototype)&&a!==r.prototype&&n(t,a),t}},"746f":function(t,e,r){var i=r("428f"),n=r("5135"),o=r("e538"),a=r("9bf2").f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});n(e,t)||a(e,t,{value:o.f(t)})}},"7db0":function(t,e,r){"use strict";var i=r("23e7"),n=r("b727").find,o=r("44d2"),a=r("ae40"),s="find",c=!0,u=a(s);s in[]&&Array(1)[s]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!u},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},"81d5":function(t,e,r){"use strict";var i=r("7b0b"),n=r("23cb"),o=r("50c4");t.exports=function(t){var e=i(this),r=o(e.length),a=arguments.length,s=n(a>1?arguments[1]:void 0,r),c=a>2?arguments[2]:void 0,u=void 0===c?r:n(c,r);while(u>s)e[s++]=t;return e}},8418:function(t,e,r){"use strict";var i=r("c04e"),n=r("9bf2"),o=r("5c6c");t.exports=function(t,e,r){var a=i(e);a in t?n.f(t,a,o(0,r)):t[a]=r}},"99af":function(t,e,r){"use strict";var i=r("23e7"),n=r("d039"),o=r("e8b5"),a=r("861d"),s=r("7b0b"),c=r("50c4"),u=r("8418"),f=r("65f0"),h=r("1dde"),l=r("b622"),d=r("2d00"),g=l("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",p=d>=51||!n((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),y=h("concat"),b=function(t){if(!a(t))return!1;var e=t[g];return void 0!==e?!!e:o(t)},w=!p||!y;i({target:"Array",proto:!0,forced:w},{concat:function(t){var e,r,i,n,o,a=s(this),h=f(a,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(o=-1===e?a:arguments[e],b(o)){if(n=c(o.length),l+n>v)throw TypeError(m);for(r=0;r<n;r++,l++)r in o&&u(h,l,o[r])}else{if(l>=v)throw TypeError(m);u(h,l++,o)}return h.length=l,h}})},"9bdd":function(t,e,r){var i=r("825a"),n=r("2a62");t.exports=function(t,e,r,o){try{return o?e(i(r)[0],r[1]):e(r)}catch(a){throw n(t),a}}},a15b:function(t,e,r){"use strict";var i=r("23e7"),n=r("44ad"),o=r("fc6a"),a=r("a640"),s=[].join,c=n!=Object,u=a("join",",");i({target:"Array",proto:!0,forced:c||!u},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},a4d3:function(t,e,r){"use strict";var i=r("23e7"),n=r("da84"),o=r("d066"),a=r("c430"),s=r("83ab"),c=r("4930"),u=r("fdbf"),f=r("d039"),h=r("5135"),l=r("e8b5"),d=r("861d"),g=r("825a"),v=r("7b0b"),m=r("fc6a"),p=r("c04e"),y=r("5c6c"),b=r("7c73"),w=r("df75"),x=r("241c"),S=r("057f"),k=r("7418"),P=r("06cf"),C=r("9bf2"),I=r("d1e7"),O=r("9112"),R=r("6eeb"),E=r("5692"),j=r("f772"),A=r("d012"),M=r("90e3"),B=r("b622"),N=r("e538"),T=r("746f"),W=r("d44e"),z=r("69f3"),L=r("b727").forEach,H=j("hidden"),_="Symbol",D="prototype",X=B("toPrimitive"),Y=z.set,F=z.getterFor(_),K=Object[D],U=n.Symbol,$=o("JSON","stringify"),G=P.f,J=C.f,V=S.f,Q=I.f,q=E("symbols"),Z=E("op-symbols"),tt=E("string-to-symbol-registry"),et=E("symbol-to-string-registry"),rt=E("wks"),it=n.QObject,nt=!it||!it[D]||!it[D].findChild,ot=s&&f((function(){return 7!=b(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(t,e,r){var i=G(K,e);i&&delete K[e],J(t,e,r),i&&t!==K&&J(K,e,i)}:J,at=function(t,e){var r=q[t]=b(U[D]);return Y(r,{type:_,tag:t,description:e}),s||(r.description=e),r},st=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof U},ct=function(t,e,r){t===K&&ct(Z,e,r),g(t);var i=p(e,!0);return g(r),h(q,i)?(r.enumerable?(h(t,H)&&t[H][i]&&(t[H][i]=!1),r=b(r,{enumerable:y(0,!1)})):(h(t,H)||J(t,H,y(1,{})),t[H][i]=!0),ot(t,i,r)):J(t,i,r)},ut=function(t,e){g(t);var r=m(e),i=w(r).concat(gt(r));return L(i,(function(e){s&&!ht.call(r,e)||ct(t,e,r[e])})),t},ft=function(t,e){return void 0===e?b(t):ut(b(t),e)},ht=function(t){var e=p(t,!0),r=Q.call(this,e);return!(this===K&&h(q,e)&&!h(Z,e))&&(!(r||!h(this,e)||!h(q,e)||h(this,H)&&this[H][e])||r)},lt=function(t,e){var r=m(t),i=p(e,!0);if(r!==K||!h(q,i)||h(Z,i)){var n=G(r,i);return!n||!h(q,i)||h(r,H)&&r[H][i]||(n.enumerable=!0),n}},dt=function(t){var e=V(m(t)),r=[];return L(e,(function(t){h(q,t)||h(A,t)||r.push(t)})),r},gt=function(t){var e=t===K,r=V(e?Z:m(t)),i=[];return L(r,(function(t){!h(q,t)||e&&!h(K,t)||i.push(q[t])})),i};if(c||(U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=M(t),r=function(t){this===K&&r.call(Z,t),h(this,H)&&h(this[H],e)&&(this[H][e]=!1),ot(this,e,y(1,t))};return s&&nt&&ot(K,e,{configurable:!0,set:r}),at(e,t)},R(U[D],"toString",(function(){return F(this).tag})),R(U,"withoutSetter",(function(t){return at(M(t),t)})),I.f=ht,C.f=ct,P.f=lt,x.f=S.f=dt,k.f=gt,N.f=function(t){return at(B(t),t)},s&&(J(U[D],"description",{configurable:!0,get:function(){return F(this).description}}),a||R(K,"propertyIsEnumerable",ht,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:U}),L(w(rt),(function(t){T(t)})),i({target:_,stat:!0,forced:!c},{for:function(t){var e=String(t);if(h(tt,e))return tt[e];var r=U(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(h(et,t))return et[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!s},{create:ft,defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:lt}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:dt,getOwnPropertySymbols:gt}),i({target:"Object",stat:!0,forced:f((function(){k.f(1)}))},{getOwnPropertySymbols:function(t){return k.f(v(t))}}),$){var vt=!c||f((function(){var t=U();return"[null]"!=$([t])||"{}"!=$({a:t})||"{}"!=$(Object(t))}));i({target:"JSON",stat:!0,forced:vt},{stringify:function(t,e,r){var i,n=[t],o=1;while(arguments.length>o)n.push(arguments[o++]);if(i=e,(d(e)||void 0!==t)&&!st(t))return l(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!st(e))return e}),n[1]=e,$.apply(null,n)}})}U[D][X]||O(U[D],X,U[D].valueOf),W(U,_),A[H]=!0},a630:function(t,e,r){var i=r("23e7"),n=r("4df4"),o=r("1c7e"),a=!o((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:a},{from:n})},a9e3:function(t,e,r){"use strict";var i=r("83ab"),n=r("da84"),o=r("94ca"),a=r("6eeb"),s=r("5135"),c=r("c6b6"),u=r("7156"),f=r("c04e"),h=r("d039"),l=r("7c73"),d=r("241c").f,g=r("06cf").f,v=r("9bf2").f,m=r("58a8").trim,p="Number",y=n[p],b=y.prototype,w=c(l(b))==p,x=function(t){var e,r,i,n,o,a,s,c,u=f(t,!1);if("string"==typeof u&&u.length>2)if(u=m(u),e=u.charCodeAt(0),43===e||45===e){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+u}for(o=u.slice(2),a=o.length,s=0;s<a;s++)if(c=o.charCodeAt(s),c<48||c>n)return NaN;return parseInt(o,i)}return+u};if(o(p,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,k=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof k&&(w?h((function(){b.valueOf.call(r)})):c(r)!=p)?u(new y(x(e)),r,k):x(e)},P=i?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;P.length>C;C++)s(y,S=P[C])&&!s(k,S)&&v(k,S,g(y,S));k.prototype=b,b.constructor=k,a(n,p,k)}},ab13:function(t,e,r){var i=r("b622"),n=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(i){}}return!1}},ad6d:function(t,e,r){"use strict";var i=r("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,r){var i=r("83ab"),n=r("9bf2").f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,c="name";i&&!(c in o)&&n(o,c,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},b64b:function(t,e,r){var i=r("23e7"),n=r("7b0b"),o=r("df75"),a=r("d039"),s=a((function(){o(1)}));i({target:"Object",stat:!0,forced:s},{keys:function(t){return o(n(t))}})},bb51:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("RenderImg")],1)},n=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sample"},[r("div",{staticClass:"main"},[r("div",{staticClass:"render-area"},[r("canvas",{attrs:{id:"sample-canvas-id"}}),r("div",{staticClass:"btns"},[r("el-button",{attrs:{type:"warning"},on:{click:t.startSelect}},[t._v("开始框选")]),r("span",[t._v(t._s(t.coordinate))])],1)]),t._m(0)])])},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cut-img"},[r("canvas",{attrs:{id:"cut-img-canvas-id"}})])}];function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function c(t){if(Array.isArray(t))return s(t)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function u(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}r("fb6a"),r("b0c0");function f(t,e){if(t){if("string"===typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return c(t)||u(t)||f(t)||h()}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),t}function m(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r("159b"),r("4de4"),r("d81d"),r("a9e3"),r("cb29"),r("2ca0");r("b64b"),r("a15b"),r("25f0"),r("99af"),r("07ac"),r("4fad"),r("7db0");function p(t){var e;t=t.substr(1);for(var r=[],i=0;i<3;i++)e=t.substr(2*i,2),r[i]=parseInt(e,16);return r.join(",")}r("e439"),r("dbb4");function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r,i){return[[t,e+i/3,t+r,e+i/3],[t,e+2*i/3,t+r,e+2*i/3],[t+r/3,e,t+r/3,e+i],[t+2*r/3,e,t+2*r/3,e+i]]}function x(t,e,r,i){return[[t-4,e-4,8,8],[t+r/2-4,e-4,8,8],[t+r-4,e-4,8,8],[t-4,e+i/2-4,8,8],[t+r-4,e+i/2-4,8,8],[t-4,e+i-4,8,8],[t+r/2-4,e+i-4,8,8],[t+r-4,e+i-4,8,8]]}function S(t,e,r,i){return[[t-4,e-4,8,8],[t+r-4,e-4,8,8],[t+r-4,e+i-4,8,8],[t-4,e+i-4,8,8],[t-4,e-4,r+4,8],[t+r-4,e-4,8,i+4],[t-4,e+i-4,r+4,8],[t-4,e-4,8,i+4]]}var k=function(t,e,r){var i=b({},r);return i.x<0&&(i.x=0),i.y<0&&(i.y=0),i.x+i.w>t&&(i.x-=i.x+i.w-t),i.y+i.h>e&&(i.y-=i.y+i.h-e),i},P=function(t,e,r){var i=b({},e);switch(t){case 0:i.x+=r.x,i.y+=r.y,i.w-=r.x,i.h-=r.y;break;case 1:i.y+=r.y,i.w+=r.x,i.h-=r.y;break;case 2:i.w+=r.x,i.h+=r.y;break;case 3:i.x+=r.x,i.w-=r.x,i.h+=r.y;break;case 4:i.y+=r.y,i.h-=r.y;break;case 5:i.w+=r.x;break;case 6:i.h+=r.y;break;case 7:i.x+=r.x,i.w-=r.x;break;case 8:i.x+=r.x,i.y+=r.y;break;default:break}return i},C=function(t){var e="default";switch(t){case 0:case 2:e="nwse-resize";break;case 1:case 3:e="nesw-resize";break;case 4:case 6:e="ns-resize";break;case 5:case 7:e="ew-resize";break;case 8:e="move";break;default:break}return e},I=function(t){return{x:t.x+(t.w<0?t.w:0),y:t.y+(t.h<0?t.h:0),w:Math.abs(t.w),h:Math.abs(t.h)}},O=function(){function t(e,r,i,n,o,a,s){var c=this;d(this,t),m(this,"canChangeSelect",!1),m(this,"resetSelect",!1),m(this,"tempCursorIndex",null),m(this,"initMousePosition",{}),m(this,"cursorIndex",9),m(this,"selectPosition",{x:0,y:0,w:0,h:0}),m(this,"mousePosition",[]),m(this,"finishedCallback",void 0),m(this,"canvas",void 0),m(this,"img",void 0),m(this,"ctx",void 0),m(this,"ratio",void 0),m(this,"imageRealWidth",void 0),m(this,"imgRealHeight",void 0),m(this,"zoom",1),m(this,"mousemove",(function(t){return c.onMouseMove(t)})),m(this,"mouseup",(function(t){return c.onMouseUp(t)})),m(this,"mousedown",(function(t){return c.omMouseDown(t)})),this.canvasId=e,this.imageUrl=r,this.coordinates=i,this.groupFieldLocation=n,this.config=B(o),this.useWidth=a,this.renderImg(),this.resetSelectData(),"function"===typeof s&&(this.finishedCallback=s)}return v(t,[{key:"resetSelectData",value:function(){this.canChangeSelect=!1,this.resetSelect=!1,this.tempCursorIndex=null,this.selectPosition={x:0,y:0,w:0,h:0},this.mousePosition=[],this.cursorIndex=9,this.initMousePosition={}}},{key:"onMouseUp",value:function(){(this.selectPosition.w<0||this.selectPosition.h<0)&&(this.selectPosition=I(this.selectPosition)),this.canChangeSelect=!1,this.tempCursorIndex=null,this.selectPosition&&this.finishedCallback(this.selectPosition,this.zoom)}},{key:"omMouseDown",value:function(t){9===this.cursorIndex&&(this.resetSelect=!0),this.canChangeSelect=!0,this.initMousePosition={x:t.offsetX,y:t.offsetY}}},{key:"onMouseMove",value:function(t){if(this.ctx&&this.canvas){var e=t.offsetX,r=t.offsetY,i=e*this.ratio,n=r*this.ratio,o="crosshair";this.cursorIndex=9;for(var a=0;a<this.mousePosition.length;a++)if(A(this.ctx,i,n,this.mousePosition[a])){o=C(a),this.cursorIndex=a;break}if(this.canvas.style.cursor=o,this.canChangeSelect){this.resetSelect&&(this.selectPosition={x:this.initMousePosition.x,y:this.initMousePosition.y,w:4,h:4},this.tempCursorIndex=2,this.resetSelect=!1);var s=e-this.initMousePosition.x,c=r-this.initMousePosition.y;this.selectPosition=P(null!==this.tempCursorIndex?this.tempCursorIndex:this.cursorIndex,this.selectPosition,{x:s,y:c}),this.selectPosition=k(this.canvas.width,this.canvas.height,this.selectPosition),this.mousePosition=R(this.selectPosition,this.ctx,this.img,this.canvas,this.mousePosition),null===this.tempCursorIndex&&(this.tempCursorIndex=this.cursorIndex),this.initMousePosition={x:e,y:r}}}}},{key:"registerListener",value:function(){this.canvas.addEventListener("mousemove",this.mousemove),this.canvas.addEventListener("mouseup",this.mouseup),this.canvas.addEventListener("mousedown",this.mousedown)}},{key:"unRegisterListener",value:function(){this.canvas.removeEventListener("mousemove",this.mousemove),this.canvas.removeEventListener("mouseup",this.mouseup),this.canvas.removeEventListener("mousedown",this.mousedown),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderImg(),this.resetSelectData(),this.canvas.style.cursor="default",this.ctx.restore()}},{key:"renderImg",value:function(){var t=this;if(this.coordinates&&(this.coordinates=this.checkCoordinates(this.coordinates)),this.canvas=document.getElementById(this.canvasId),this.canvas&&this.canvas.getContext){if(this.ctx=this.canvas.getContext("2d"),this.ratio=M(this.ctx),"loading"===this.imageUrl)return void this.dramMsg("加载中...");if(!this.imageUrl)return void this.dramMsg("抱歉，暂时无法确认图片内容");this.img=new Image,this.img.src=this.imageUrl,this.img.onerror=function(){console.log("load img fail..."),t.dramMsg("图片加载失败...")},this.dramMsg("加载中..."),this.img.onload=function(){var e,r;t.imageRealWidth=t.img.width,t.imgRealHeight=t.img.height,t.useWidth?(r=t.config.width,t.zoom=r/t.imageRealWidth,e=t.imgRealHeight*t.zoom,e>t.config.height&&(e=t.config.height,t.zoom=e/t.imgRealHeight,r=t.imageRealWidth*t.zoom)):(e=t.config.height,t.zoom=e/t.imgRealHeight,r=t.imageRealWidth*t.zoom,r>t.config.width&&(r=t.config.width,t.zoom=r/t.imageRealWidth,e=t.imgRealHeight*t.zoom)),t.canvas.style.width="".concat(r,"px"),t.canvas.style.height="".concat(e,"px"),t.canvas.width=2*r,t.canvas.height=2*e,t.ctx.clearRect(0,0,t.canvas.width,t.canvas.height),t.ctx.drawImage(t.img,t.config.offsetX,t.config.offsetY,t.canvas.width,t.canvas.height),t.coordinates&&t.drawRect(t.coordinates),t.groupFieldLocation&&t.groupFieldLocation.length&&t.groupFieldLocation.forEach((function(e){var r=t.checkCoordinates(e.locations);r&&t.drawRect(r,e.current,e.index,e.emptyCircle)}))}}else console.error("cannot find dom with id=",this.canvasId)}},{key:"dramMsg",value:function(t){var e=300,r=150;this.ctx.save(),this.canvas.width=e*this.ratio,this.canvas.height=r*this.ratio,this.canvas.style.width="".concat(e,"px"),this.canvas.style.height="".concat(r,"px"),this.ctx.textBaseline="middle",this.ctx.font="18px bold 黑体",this.ctx.fillStyle="#AAAAAA",this.ctx.scale(this.ratio,this.ratio),this.ctx.fillText(t,50,75),this.ctx.restore()}},{key:"checkCoordinates",value:function(t){return t.map((function(t){if(null===t)return null;if(t&&2!==t.length)return console.error("坐标数据格式不正确，每个矩形点，有两个点坐标"),null;for(var e=0;e<t.length;e++){var r=t[e];if(2!==r.length)return console.error("每个点坐标必须为：x,y两个数字"),null;if("number"!==typeof r[0]||"number"!==typeof r[1])try{r[0]=Number(r[0]),r[1]=Number(r[1])}catch(i){return console.error(i),null}}return t})).filter((function(t){return!!t}))}},{key:"drawRect",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0;r<t.length;r++){var i=t[r];if(i){var n=this.extracted(i),o=n.x,a=n.y,s=n.recH,c=n.recW;this.ctx.save(),this.ctx.scale(2,2),this.ctx.strokeStyle=this.config.rectBorderColor,this.ctx.strokeRect(o,a,c,s),this.ctx.fillStyle=e?this.config.rectBackgroundColor:"rgba(255,255,255,0)",this.ctx.fillRect(o,a,c,s),this.ctx.restore()}}}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,i=this.extracted(t),n=i.x,o=i.y,a=i.recW;o<10&&(o+=24),this.ctx.beginPath(),this.ctx.arc(n+a-10,o-12,10,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fillStyle=r?"rgba(255,255,255,0)":this.config.rectBorderColor,this.ctx.fill(),r?(this.ctx.fillStyle=this.config.rectBorderColor,this.ctx.textBaseline="middle"):(this.ctx.fillStyle="#ffffff",this.ctx.textBaseline="middle"),this.ctx.font="12px bold 黑体";var s=13;e>9&&(s=17),this.ctx.fillText(String(e),n+a-s,o-10),this.ctx.stroke()}},{key:"extracted",value:function(t){var e={leftTopX:t[0][0],leftTopY:t[0][1],rightBottomX:t[1][0],rightBottomY:t[1][1]},r=(e.leftTopX+this.config.offsetX)*this.zoom,i=(e.leftTopY+this.config.offsetY)*this.zoom,n=(e.rightBottomX-e.leftTopX)*this.zoom,o=(e.rightBottomY-e.leftTopY)*this.zoom;return r+n>=this.imageRealWidth*this.zoom?n=this.imageRealWidth*this.zoom-r-1:r<=0&&(n-=10),i+o>=this.imgRealHeight*this.zoom?o=this.imgRealHeight*this.zoom-i-1:i<=0&&(o-=10),{x:r,y:i,recH:o,recW:n}}}]),t}(),R=function(t,e,r,i,n){var o=t.x,a=t.y,s=t.w,c=t.h;e.clearRect(0,0,i.width,i.height),j(e,i.width,i.height),e.save(),e.scale(2,2),e.clearRect(o,a,s,c),e.strokeStyle="#5696f8",e.strokeRect(o,a,s,c),e.fillStyle="#5696f8";var u=x(o,a,s,c);u.map((function(t){return e.fillRect.apply(e,l(t))})),e.lineWidth=1,e.strokeStyle="rgba(86, 150, 246, .75)";var f=w(o,a,s,c);return f.forEach((function(t){e.beginPath(),e.setLineDash([2,4]),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.closePath(),e.stroke()})),e.restore(),E(e,r,i.width,i.height),n=S(o,a,s,c),n.push([t.x,t.y,t.w,t.h]),n},E=function(t,e,r,i){t.save(),t.globalCompositeOperation="destination-over",t.drawImage(e,0,0,r,i),t.restore()},j=function(t,e,r){t.save(),t.fillStyle="rgba(0,0,0,0.5)",t.fillRect(0,0,e,r),t.globalCompositeOperation="source-atop",t.restore()},A=function(t,e,r,i){t.beginPath(),t.rect.apply(t,l(i));var n=t.isPointInPath(e,r);return t.closePath(),n},M=function(t){var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},B=function(t){if(!t)return{width:675,height:400,offsetX:0,offsetY:0,rectBorderColor:"#D90909",rectBackgroundColor:"rgba(217,9,9,0.2)",center:!0};var e=t.width&&"number"===typeof t.width?t.width:675,r=t.height&&"number"===typeof t.height?t.height:400,i=t.offsetX&&"number"===typeof t.offsetX?t.offsetX:0,n=t.offsetY&&"number"===typeof t.offsetY?t.offsetY:0,o=t.color&&"string"===typeof t.color?t.color:"#D90909",a=t.rectBackgroundColor?"rgba("+p(t.rectBackgroundColor)+",0.2)":o.startsWith("#")?"rgba("+p(o)+",0.2)":"rgba(28,165,255,0.2)",s="boolean"!==typeof t.center||t.center;return{width:e,height:r,offsetX:i,offsetY:n,rectBorderColor:o,rectBackgroundColor:a,center:s}};function N(t,e,r,i){if(r){if(2!==r.length)return void console.error("坐标数据格式不正确，每个矩形点，有两个点坐标");for(var n=0;n<r.length;n++){var o=r[n];if(2!==o.length)return void console.error("每个点坐标必须为：x,y两个数字");"number"===typeof o[0]&&"number"===typeof o[1]||(o[0]=Number(o[0]),o[1]=Number(o[1]))}}var a=document.getElementById(t);if(a&&a.getContext){var s=a.getContext("2d"),c=window.devicePixelRatio||1,u=30,f=200;if(i<f&&(i=f),!e||!r){var h=80;return a.width=i*c,a.height=h*c,a.style.width="".concat(i,"px"),a.style.height="".concat(h,"px"),s.textBaseline="middle",s.font="18px bold 黑体",s.fillStyle="#b3c1bd",s.clearRect(0,0,a.width,a.height),s.scale(c,c),void s.fillText("未找到截图,点击查看原图",(i-200)/2,40)}a.width=r[1][1]-r[0][1],a.height=r[1][0]-r[0][0];var l=r[0][1],d=r[0][0],g=new Image;g.src=e,g.onload=function(){var t=g.width,e=g.height;a.width=Math.min(t-l,a.width),a.height=Math.min(e-d,a.height);var r=i/a.width;a.style.width="".concat(i,"px");var n=a.height*r;a.style.height="".concat(n,"px"),n<u&&(a.style.height="".concat(u,"px"),a.style.width="".concat(u/n*i,"px")),s.clearRect(0,0,a.width*c,a.height*c),s.scale(c,c),s.drawImage(g,l,d,a.width*c,a.height*c,0,0,a.width,a.height)}}}var T=r("51ac"),W="https://www.hicooper.cn:8077/ajax/bucket/file/master/IMG/邓紫棋.jpg",z={name:"RenderImg",data:function(){return{canvasBox:void 0,imgWidth:.5*window.innerWidth,imgHeight:.5*window.innerHeight,coordinate:void 0}},created:function(){this.renderNormalImg()},destroyed:function(){this.cancelSelect()},methods:{renderNormalImg:function(){var t=this;this.$nextTick((function(){t.canvasBox=new O("sample-canvas-id",W,[[[900,190],[1350,1070]],[[400,80],[850,1070]]],[],{width:t.imgWidth,height:t.imgHeight},!1,t.selectRectDone)}))},renderCutImg:function(){N("cut-img-canvas-id",W,this.coordinate,600)},startSelect:function(){this.canvasBox&&(this.$message.info({duration:5e3,message:"按 ESC 退出选框"}),this.canvasBox.registerListener(),window.addEventListener("keyup",this.handleKeyup))},cancelSelect:function(){this.canvasBox&&(this.canvasBox.unRegisterListener(),window.removeEventListener("keyup",this.handleKeyup))},selectRectDone:function(t,e){var r=t.x/e,i=t.y/e,n=(t.x+t.w)/e,o=(t.y+t.h)/e;this.coordinate=[[i,r],[o,n]],this.renderCutImg()},handleKeyup:function(t){Object(T["isHotkey"])("esc",t)&&this.cancelSelect()}}},L=z,H=(r("3061"),r("2877")),_=Object(H["a"])(L,o,a,!1,null,"7a711937",null),D=_.exports,X={name:"Home",components:{RenderImg:D}},Y=X,F=Object(H["a"])(Y,i,n,!1,null,null,null);e["default"]=F.exports},cb29:function(t,e,r){var i=r("23e7"),n=r("81d5"),o=r("44d2");i({target:"Array",proto:!0},{fill:n}),o("fill")},d28b:function(t,e,r){var i=r("746f");i("iterator")},d81d:function(t,e,r){"use strict";var i=r("23e7"),n=r("b727").map,o=r("1dde"),a=r("ae40"),s=o("map"),c=a("map");i({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(t,e,r){var i=r("23e7"),n=r("83ab"),o=r("56ef"),a=r("fc6a"),s=r("06cf"),c=r("8418");i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,r,i=a(t),n=s.f,u=o(i),f={},h=0;while(u.length>h)r=n(i,e=u[h++]),void 0!==r&&c(f,e,r);return f}})},e01a:function(t,e,r){"use strict";var i=r("23e7"),n=r("83ab"),o=r("da84"),a=r("5135"),s=r("861d"),c=r("9bf2").f,u=r("e893"),f=o.Symbol;if(n&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var h={},l=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof l?new f(t):void 0===t?f():f(t);return""===t&&(h[e]=!0),e};u(l,f);var d=l.prototype=f.prototype;d.constructor=l;var g=d.toString,v="Symbol(test)"==String(f("test")),m=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=g.call(t);if(a(h,t))return"";var r=v?e.slice(7,-1):e.replace(m,"$1");return""===r?void 0:r}}),i({global:!0,forced:!0},{Symbol:l})}},e439:function(t,e,r){var i=r("23e7"),n=r("d039"),o=r("fc6a"),a=r("06cf").f,s=r("83ab"),c=n((function(){a(1)})),u=!s||c;i({target:"Object",stat:!0,forced:u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},e538:function(t,e,r){var i=r("b622");e.f=i},fb6a:function(t,e,r){"use strict";var i=r("23e7"),n=r("861d"),o=r("e8b5"),a=r("23cb"),s=r("50c4"),c=r("fc6a"),u=r("8418"),f=r("b622"),h=r("1dde"),l=r("ae40"),d=h("slice"),g=l("slice",{ACCESSORS:!0,0:0,1:2}),v=f("species"),m=[].slice,p=Math.max;i({target:"Array",proto:!0,forced:!d||!g},{slice:function(t,e){var r,i,f,h=c(this),l=s(h.length),d=a(t,l),g=a(void 0===e?l:e,l);if(o(h)&&(r=h.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[v],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return m.call(h,d,g);for(i=new(void 0===r?Array:r)(p(g-d,0)),f=0;d<g;d++,f++)d in h&&u(i,f,h[d]);return i.length=f,i}})}}]);
//# sourceMappingURL=chunk-0b2b023c.ba81c860.js.map